---
phase: 01-foundation-site-structure
plan: 01
type: execute
---

<objective>
Set up Astro project and establish component-based foundation.

Purpose: Bootstrap Astro project with initial structure, layouts, and components so Phases 2-3 can build content and design on a stable, modern foundation.

Output: Functioning Astro project with initial project structure, config, and base components ready for content and design.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-site-structure/01-RESEARCH.md

**Key context from research & decision:**
- Astro is modern, component-driven, excellent for content-first sites
- Excellent GitHub Pages support via static output
- Component-based approach enables reusability (header, footer, CTA, project cards)
- Markdown content collections for case studies with front matter
- Project structure: src/pages/, src/layouts/, src/components/, public/

**Prior decisions from PROJECT.md:**
- Markdown + static site generator (choosing Astro for modern component approach)
- No CMS required
- GitHub Pages hosting
- Zero paid services
- Shared knowledge with coworker also building on Astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Astro project and install dependencies</name>
  <files>package.json, astro.config.mjs, tsconfig.json</files>
  <action>
    1. Create new Astro project: `npm create astro@latest . -- --template minimal --no-git`
       (minimal template to avoid bloat; --no-git since we have git already)
    2. Install dependencies: `npm install`
    3. Verify Astro CLI: `npx astro --version` (should be 4.0+)
    4. Create initial .gitignore entries if needed: dist/, .astro/, node_modules/ (should be auto-created)
    5. Commit initial project structure
    Rationale: Minimal template avoids unnecessary packages. Astro 4.0+ has stable GitHub Pages output mode. Node/npm familiar and shared with coworker.
    Avoid: Don't use template with React/Vue/Svelte integrations yet - Phase 2 will add components as needed.
  </action>
  <verify>
    - `npm --version` and `node --version` show compatible versions
    - `npx astro --version` returns 4.0 or higher
    - `ls -la` shows package.json, astro.config.mjs, src/, public/ directories
    - `npm install` completes without errors
  </verify>
  <done>Astro project initialized, dependencies installed, ready for structure setup</done>
</task>

<task type="auto">
  <name>Task 2: Create base layout and page structure</name>
  <files>src/layouts/BaseLayout.astro, src/pages/index.astro, src/pages/projects/index.astro, src/pages/projects/[slug].astro</files>
  <action>
    1. Create src/layouts/BaseLayout.astro with:
       - HTML5 boilerplate (DOCTYPE, head with meta viewport, title slot)
       - Header component include (will be created in Task 3)
       - Main content slot: <slot />
       - Footer component include (will be created in Task 3)
    2. Create src/pages/index.astro (homepage):
       - Use BaseLayout
       - Empty content (Phase 2 will design homepage)
    3. Create src/pages/projects/index.astro (projects listing):
       - Use BaseLayout
       - Will display list of projects (Phase 3 provides content)
    4. Create src/pages/projects/[slug].astro (dynamic project routes):
       - Dynamic route for individual case studies
       - Will render project content and metadata
    Rationale: Astro file-based routing (pages/) auto-creates routes. [slug].astro enables dynamic case study pages from markdown content. BaseLayout provides consistent structure.
    Avoid: Don't add styling yet - Phase 2 handles design. Keep templates minimal and semantic.
  </action>
  <verify>
    - All files exist in correct locations: src/layouts/BaseLayout.astro, src/pages/index.astro, src/pages/projects/index.astro, src/pages/projects/[slug].astro
    - `npx astro build` succeeds with no errors
    - dist/index.html exists after build
  </verify>
  <done>Base layout and page structure created, routes established</done>
</task>

<task type="auto">
  <name>Task 3: Create reusable Astro components (header, footer, CTA)</name>
  <files>src/components/Header.astro, src/components/Footer.astro, src/components/ContactCTA.astro</files>
  <action>
    1. Create src/components/Header.astro:
       - Navigation bar with links: home (/), projects (/projects), contact (mailto or contact section)
       - Minimal semantic HTML (nav, ul, li, a)
       - Will be included in BaseLayout
    2. Create src/components/Footer.astro:
       - Footer with copyright and optional links
       - Contact information placeholder
       - Will be included in BaseLayout
    3. Create src/components/ContactCTA.astro:
       - Reusable contact call-to-action component
       - Can be used on multiple pages (homepage, project pages)
       - Text and button encouraging visitor to get in touch
    4. Update BaseLayout.astro to import and use these components
    Rationale: Components enable reusability across pages. Astro components compile to zero JavaScript by default (static HTML). Easy for Phase 2 to style these.
    Avoid: Don't use JavaScript/React patterns yet - pure Astro components for now.
  </action>
  <verify>
    - All component files exist: src/components/{Header,Footer,ContactCTA}.astro
    - BaseLayout.astro imports and includes these components
    - `npx astro build` still succeeds
    - dist/ includes all pages with header/footer
  </verify>
  <done>Components created and integrated, base structure functional</done>
</task>

<task type="auto">
  <name>Task 4: Configure Astro for GitHub Pages and verify build</name>
  <files>astro.config.mjs</files>
  <action>
    1. Edit astro.config.mjs to set:
       - site: "https://jmaisel.github.io/JM-CaseStudies/" (GitHub Pages URL)
       - base: "/JM-CaseStudies/" (repo name, required for subpath hosting)
       - output: 'static' (static site generation for GitHub Pages)
    2. Verify build: `npm run build` should create dist/ directory
    3. Test locally: `npx astro preview` to serve dist/ locally (verify site works)
    4. Add dist/ to .gitignore if not already present
    5. Commit configuration changes
    Rationale: site and base are critical for GitHub Pages subpath. output: 'static' generates pure HTML without Node.js runtime. preview confirms build works locally.
    Avoid: Don't set adapter or middleware - static output is simplest for this use case.
  </action>
  <verify>
    - `cat astro.config.mjs` shows correct site, base, output settings
    - `npm run build` succeeds with no errors
    - dist/index.html exists and is valid HTML
    - dist/ is in .gitignore
    - Git status shows clean working tree
  </verify>
  <done>Astro configured for GitHub Pages, build verified, project ready for Phase 2</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx astro --version` shows 4.0 or higher
- [ ] `npm run build` completes without errors
- [ ] All layout files created: BaseLayout.astro
- [ ] All page routes created: index.astro, projects/index.astro, projects/[slug].astro
- [ ] All components created: Header, Footer, ContactCTA
- [ ] astro.config.mjs has correct site, base, output settings
- [ ] dist/index.html exists and is valid HTML
- [ ] Git history shows clean commits
</verification>

<success_criteria>

- Astro 4.0+ installed and verified
- Project structure initialized (src/pages/, src/layouts/, src/components/)
- Base layout created with header, footer, main content structure
- Page routes established (home, projects list, dynamic project pages)
- Reusable components created (header, footer, contact CTA)
- astro.config.mjs configured for GitHub Pages (site, base, output)
- Static build verified (npm run build succeeds)
- Output ready for Phase 2 (homepage design and styling) and Phase 3 (case study content)
  </success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-site-structure/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Astro Foundation Setup Summary

**Astro project initialized with component-based structure and GitHub Pages config**

## Accomplishments

- Astro 4.0+ installed and verified
- Project structure initialized (src/pages/, src/layouts/, src/components/)
- Base HTML layout created (BaseLayout.astro)
- Page routes established (index, projects list, dynamic [slug] routes)
- Reusable components created (Header, Footer, ContactCTA)
- astro.config.mjs configured for GitHub Pages
- Static build system verified (npm run build succeeds)
- Build output configured for dist/ directory

## Files Created/Modified

- `package.json` - Project dependencies and scripts
- `astro.config.mjs` - Astro configuration (site, base, output: 'static')
- `tsconfig.json` - TypeScript configuration
- `src/layouts/BaseLayout.astro` - Base HTML layout with slots
- `src/pages/index.astro` - Homepage route
- `src/pages/projects/index.astro` - Projects listing route
- `src/pages/projects/[slug].astro` - Dynamic project page route
- `src/components/Header.astro` - Navigation component
- `src/components/Footer.astro` - Footer component
- `src/components/ContactCTA.astro` - Reusable contact CTA component
- `.gitignore` - Excludes dist/, node_modules/, .astro/

## Decisions Made

- **Generator choice:** Astro selected (modern, component-driven, excellent GitHub Pages support) over Hugo
- **Template:** Minimal template chosen to avoid bloat
- **Output mode:** Static HTML output (output: 'static') for pure GitHub Pages deployment
- **Components:** Pure Astro components (zero JS by default) for lightweight, fast pages
- **Routing:** File-based routing (pages/) with dynamic [slug] for case study pages

## Issues Encountered

None

## Next Phase Readiness

✅ **Ready for Phase 01-02:** Markdown content structure and metadata schema can now be designed within this Astro framework. Components are ready to be styled and enhanced.

⚠️ **Astro advantage:** Component-based approach enables sharing patterns with coworker. Easier to add styling and interactive elements in Phase 2 if needed.
</output>
