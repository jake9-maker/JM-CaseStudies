---
phase: 01-foundation-site-structure
plan: 02
type: execute
---

<objective>
Define Markdown front matter schema and create content collection structure for case studies.

Purpose: Establish consistent metadata structure for case studies and configure Astro content collections so they render correctly with dynamic routes and enable filtering by pillars.

Output: Content schema documentation, Astro content collection config, case study template, and example case studies demonstrating the structure.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-site-structure/01-RESEARCH.md
@.planning/phases/01-foundation-site-structure/01-01-SUMMARY.md

**Key findings from research:**
- YAML front matter is standard for Astro content collections
- Case study structure should include: title, date, summary, role, duration, pillars, featured_image, impact metrics
- Astro content collections provide type-safe content with Zod schema validation
- Metadata drives component rendering and filtering
- Don't hand-roll content structure - use Astro collections pattern

**From 01-01 execution:**
- Astro project initialized with src/ structure
- Dynamic [slug].astro route ready for individual projects
- Component structure established

**Design requirements:**
- Three pillars should be implicit, not explicit labels
- Metadata must support case study preview cards on homepage
- Front matter must enable "at-a-glance" scanning for recruiters
</context>

<tasks>

<task type="auto">
  <name>Task 1: Define and document Markdown front matter schema</name>
  <files>src/content/CASE_STUDY_SCHEMA.md</files>
  <action>
    1. Create src/content/CASE_STUDY_SCHEMA.md documenting the required front matter structure
    2. Define these required fields:
       - title (string): Project name/title
       - date (YYYY-MM-DD): Project completion/launch date
       - summary (string, 1-2 sentences): Quick description of what was built and outcome
       - role (string): Your role on the project (e.g., "Lead UX Designer", "Product Designer")
       - team_size (integer): Number of people on the team
       - duration (string): Project duration (e.g., "4 months", "Q2 2024")
       - featured (boolean): true if should appear on homepage, false otherwise
       - featured_image (string): Path to hero image (e.g., "hero.jpg")
       - featured_order (integer): 1-3 for homepage display order
       - pillars (array): One or more of ["complex-problem-solving", "ai-integration", "ux-research"]
    3. Define optional fields:
       - impact (array of strings): Key metrics or outcomes (e.g., "40% reduction in setup time")
       - tags (array): Other relevant tags for future organization
    4. Show example front matter block
    5. Include rationale: which fields enable filtering, which enable homepage previews, which support recruiter scanning
    Rationale: Explicit schema prevents inconsistency. Maps directly to Astro content collection Zod schema (next task).
    Avoid: Don't create overly complex metadata. Keep it focused on what Phase 2-3 actually needs.
  </action>
  <verify>
    - src/content/CASE_STUDY_SCHEMA.md exists and is readable
    - Schema documents all required fields and their types
    - Example front matter provided
    - Schema explains how fields map to component usage
  </verify>
  <done>YAML front matter schema documented with examples and rationale</done>
</task>

<task type="auto">
  <name>Task 2: Set up Astro content collections and Zod schema</name>
  <files>src/content/config.ts, src/content/projects/_template.md</files>
  <action>
    1. Create src/content/config.ts to define content collection schemas using Zod:
       - Define 'projects' collection for case studies
       - Map front matter fields to Zod types (string, number, boolean, array)
       - Validate pillars is one of the three allowed values
       - Make featured, featured_image, featured_order optional
    2. Create src/content/projects/ directory structure:
       - This will hold all markdown case study files
       - Each project gets its own folder with index.md (Astro content collection convention)
    3. Create src/content/projects/_template.md as archetype:
       - Include complete front matter with all fields populated as examples
       - Include basic markdown structure sections with comments:
         ## Problem & Context
         ## Approach & Research
         ## Solution & Implementation
         ## Results & Impact
       - Include inline comments explaining structure mapping to pillars
    Rationale: Astro content collections provide type-safe access to markdown metadata. Zod schema validates data at build time. Template ensures consistent structure.
    Avoid: Don't make schema overly strict - Phase 3 will vary content slightly per project.
  </action>
  <verify>
    - src/content/config.ts exists and exports defineCollection()
    - Zod schema defined for projects collection
    - src/content/projects/ directory exists
    - src/content/projects/_template.md exists with complete example
    - `npm run build` succeeds (schema validates correctly)
  </verify>
  <done>Content collection configured with Zod schema, template created</done>
</task>

<task type="auto">
  <name>Task 3: Create initial case study entries and verify collection access</name>
  <files>src/content/projects/project-1/index.md, src/content/projects/project-2/index.md, src/content/projects/project-3/index.md</files>
  <action>
    1. Create three placeholder projects following content collection pattern:
       - src/content/projects/project-1/index.md
       - src/content/projects/project-2/index.md
       - src/content/projects/project-3/index.md
    2. Each file should include:
       - Complete front matter following schema (using _template.md as reference)
       - Placeholder content: "Case study content coming soon"
       - Set featured: false for now
       - Set pillars to all three: ["complex-problem-solving", "ai-integration", "ux-research"]
       - Set featured_image to placeholder path
    3. Create image subdirectories in each project (not required for placeholder content, but structure ready)
    4. Update src/pages/projects/[slug].astro to:
       - Query getCollection('projects')
       - Use dynamic [slug] parameter to fetch correct project
       - Render project.data and project.body (Astro auto-parses markdown)
    5. Update src/pages/projects/index.astro to:
       - Query getCollection('projects')
       - Map over projects and display preview cards
    6. Test build: `npm run build` should generate pages for all three projects
    Rationale: Placeholder projects verify content collection works end-to-end. Astro automatically compiles markdown to HTML and provides typed metadata access.
    Avoid: Don't write actual case study content yet - Phase 3 is responsible for that.
  </action>
  <verify>
    - Three project directories exist with index.md files
    - Each index.md has valid YAML front matter matching schema
    - `npm run build` succeeds without errors
    - dist/projects/ contains generated pages (dist/projects/project-1/index.html, etc.)
    - dist/projects/index.html exists (projects listing page)
    - Collection data is type-safe and accessible in pages
  </verify>
  <done>Case study entries initialized, content collection verified, dynamic routing working</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] CASE_STUDY_SCHEMA.md documents all required and optional fields
- [ ] src/content/config.ts defines projects collection with Zod schema
- [ ] _template.md provides complete structure example
- [ ] Three project directories created with placeholder content
- [ ] YAML front matter in all case studies matches schema
- [ ] `npm run build` succeeds without errors
- [ ] Project pages generate correctly in dist/projects/
- [ ] Dynamic routing works ([slug].astro receives project data)
</verification>

<success_criteria>

- Content collection schema documented in CASE_STUDY_SCHEMA.md
- Astro content collection configured with Zod validation
- Case study template created with explanatory comments
- Three project placeholder entries initialized
- Front matter validated by Zod schema
- Astro build succeeds with type-safe content access
- Dynamic [slug] routing verified
- Content collection ready to accept real case studies in Phase 3
  </success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-site-structure/01-02-SUMMARY.md`:

# Phase 1 Plan 2: Content Structure & Collections Summary

**Astro content collection configured, markdown schema defined, placeholder projects created**

## Accomplishments

- YAML front matter schema documented with all required/optional fields
- Astro content collection configured (src/content/config.ts)
- Zod schema for type-safe content validation implemented
- Case study archetype template created with explanatory comments
- Three project directories initialized with placeholder content
- Dynamic [slug].astro route updated to query and render projects
- Projects listing page updated to display project cards
- Content collection verified with build test

## Files Created/Modified

- `src/content/config.ts` - Content collection definitions and Zod schemas
- `src/content/CASE_STUDY_SCHEMA.md` - Front matter documentation
- `src/content/projects/_template.md` - Case study archetype template
- `src/content/projects/project-1/index.md` - Placeholder project 1
- `src/content/projects/project-2/index.md` - Placeholder project 2
- `src/content/projects/project-3/index.md` - Placeholder project 3
- `src/pages/projects/[slug].astro` - Updated with content collection query
- `src/pages/projects/index.astro` - Updated with project listing logic

## Decisions Made

- **Content collections:** Astro content collections used for type-safe markdown metadata
- **Validation:** Zod schema validates all front matter at build time
- **Pillar signaling:** Research section emphasizes UX research, solution section emphasizes problem-solving, impact section emphasizes AI
- **Placeholder approach:** Three projects created with placeholders to verify structure before Phase 3

## Issues Encountered

None

## Next Phase Readiness

✅ **Ready for Phase 01-03:** Content structure is complete and Astro content collection verified. Deployment pipeline can now be configured with knowledge that content will work correctly.

⚠️ **Awaiting Phase 3:** Actual case study content will populate project-1/2/3/index.md files. Schema and template provide framework for consistent structure.
</output>
